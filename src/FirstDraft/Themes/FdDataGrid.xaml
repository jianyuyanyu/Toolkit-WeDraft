<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:fdc="clr-namespace:FirstDraft.Controls"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <BooleanToVisibilityConverter x:Key="bool2VisibilityConverter"/>

    <Style TargetType="{x:Type fdc:FdDataGrid}">
        <Setter Property="Background" Value="{DynamicResource SolidBrush.DataGrid.Background}"/>
        <Setter Property="Foreground" Value="{DynamicResource SolidBrush.DataGrid.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource SolidBrush.DataGrid.GridLine}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type fdc:FdDataGrid}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- 内部DataGrid -->
                        <DataGrid x:Name="PART_DataGrid"
                              Grid.Row="0"
                              ItemsSource="{TemplateBinding ItemsSource}"
                              AutoGenerateColumns="{TemplateBinding AutoGenerateColumns}"
                              CanUserAddRows="{TemplateBinding CanUserAddRows}"
                              IsReadOnly="{TemplateBinding IsReadOnly}"
                              CanUserSortColumns="{TemplateBinding CanUserSortColumns}"
                              SelectionMode="{TemplateBinding SelectionMode}"
                              SelectionUnit="{TemplateBinding SelectionUnit}"
                              Background="{TemplateBinding Background}"
                              BorderBrush="{TemplateBinding BorderBrush}"
                              BorderThickness="{TemplateBinding BorderThickness}"/>

                        <!-- 分页控件 -->
                        <Border Grid.Row="1" 
                            Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="1 0 1 1"
                            Visibility="{TemplateBinding ShowPagination, Converter={StaticResource bool2VisibilityConverter}}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                                        <Button x:Name="PART_GoToPageButton" Content="转到" BorderThickness="0"/>
                                        <TextBox x:Name="PART_GoToPageTextBox" 
                                                 MinWidth="40" BorderThickness="0 0 0 1"
                                                 VerticalAlignment="Center"
                                                 TextAlignment="Center"/>
                                        <TextBlock Text="页" VerticalAlignment="Center" />
                                    </StackPanel>

                                </StackPanel>

                                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="PART_FirstPageButton"  Content="首页"  BorderThickness="1 0"/>
                                    <Button x:Name="PART_PreviousPageButton"   Content="上一页"  BorderThickness="0 0 1 0" />
                                    <TextBlock x:Name="PART_PageInfoTextBlock" 
                                           Text="{TemplateBinding PageInfo}" VerticalAlignment="Center" 
                                           Margin="10,0"
                                           FontStyle="Italic"/>

                                    <Button x:Name="PART_NextPageButton"   Content="下一页"  BorderThickness="1 0" />
                                    <Button x:Name="PART_LastPageButton"  Content="末页"  BorderThickness="0 0 1 0" />
                                </StackPanel>

                                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                    <TextBlock Text="每页" VerticalAlignment="Center" Margin="0"/>
                                    <ComboBox x:Name="PART_PageSizeComboBox" BorderThickness="0 0 0 1" MinWidth="40" IsEditable="True" 
                                              />
                                    <TextBlock Text="条" VerticalAlignment="Center" Margin="0"/>

                                    <TextBlock Grid.Column="2" Margin="5 0 5 0" 
                                             Text="{Binding TotalItems, StringFormat='共 {0} 条记录', RelativeSource={RelativeSource TemplatedParent}}"
                                             VerticalAlignment="Center"
                                             FontStyle="Italic"/>
                                </StackPanel>


                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>